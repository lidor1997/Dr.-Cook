{"ast":null,"code":"import{useEffect}from\"react\";import{useUser}from\"./context\";import{AppRoutes}from\"./routes\";import{appStorage}from\"./services\";import{loginByToken}from\"./features/auth/api\";import{Header}from\"./layout\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const{handleUser}=useUser();useEffect(()=>{const token=appStorage.getToken();const executeLoginByToken=async()=>{if(!token)return;const user=await loginByToken();if(user){handleUser(user);}};executeLoginByToken();},[handleUser]);useEffect(()=>{const mode=localStorage.getItem(\"mode\");if(mode===\"dark\"){document.documentElement.classList.add(\"dark\");}},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"App dark:bg-[#202124] h-screen overflow-auto\",children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsx(AppRoutes,{})]});}export default App;","map":{"version":3,"names":["useEffect","useUser","AppRoutes","appStorage","loginByToken","Header","jsx","_jsx","jsxs","_jsxs","App","handleUser","token","getToken","executeLoginByToken","user","mode","localStorage","getItem","document","documentElement","classList","add","className","children"],"sources":["C:/Semester 8/webproject/Dr.Cook-Web-Project-main/recipes-client/src/App.tsx"],"sourcesContent":["import { useEffect } from \"react\";\nimport { useUser } from \"./context\";\nimport { AppRoutes } from \"./routes\";\nimport { appStorage } from \"./services\";\nimport { loginByToken } from \"./features/auth/api\";\nimport { Header } from \"./layout\";\n\nfunction App() {\n  const { handleUser } = useUser();\n\n  useEffect(() => {\n    const token = appStorage.getToken();\n\n    const executeLoginByToken = async () => {\n      if (!token) return;\n\n      const user = await loginByToken();\n\n      if (user) {\n        handleUser(user);\n      }\n    };\n    executeLoginByToken();\n  }, [handleUser]);\n\n  useEffect(() => {\n    const mode = localStorage.getItem(\"mode\");\n\n    if (mode === \"dark\") {\n      document.documentElement.classList.add(\"dark\");\n    }\n  }, []);\n\n  return (\n    <div className=\"App dark:bg-[#202124] h-screen overflow-auto\">\n      <Header />\n      <AppRoutes />\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"AAAA,OAASA,SAAS,KAAQ,OAAO,CACjC,OAASC,OAAO,KAAQ,WAAW,CACnC,OAASC,SAAS,KAAQ,UAAU,CACpC,OAASC,UAAU,KAAQ,YAAY,CACvC,OAASC,YAAY,KAAQ,qBAAqB,CAClD,OAASC,MAAM,KAAQ,UAAU,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAElC,QAAS,CAAAC,GAAGA,CAAA,CAAG,CACb,KAAM,CAAEC,UAAW,CAAC,CAAGV,OAAO,CAAC,CAAC,CAEhCD,SAAS,CAAC,IAAM,CACd,KAAM,CAAAY,KAAK,CAAGT,UAAU,CAACU,QAAQ,CAAC,CAAC,CAEnC,KAAM,CAAAC,mBAAmB,CAAG,KAAAA,CAAA,GAAY,CACtC,GAAI,CAACF,KAAK,CAAE,OAEZ,KAAM,CAAAG,IAAI,CAAG,KAAM,CAAAX,YAAY,CAAC,CAAC,CAEjC,GAAIW,IAAI,CAAE,CACRJ,UAAU,CAACI,IAAI,CAAC,CAClB,CACF,CAAC,CACDD,mBAAmB,CAAC,CAAC,CACvB,CAAC,CAAE,CAACH,UAAU,CAAC,CAAC,CAEhBX,SAAS,CAAC,IAAM,CACd,KAAM,CAAAgB,IAAI,CAAGC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAEzC,GAAIF,IAAI,GAAK,MAAM,CAAE,CACnBG,QAAQ,CAACC,eAAe,CAACC,SAAS,CAACC,GAAG,CAAC,MAAM,CAAC,CAChD,CACF,CAAC,CAAE,EAAE,CAAC,CAEN,mBACEb,KAAA,QAAKc,SAAS,CAAC,8CAA8C,CAAAC,QAAA,eAC3DjB,IAAA,CAACF,MAAM,GAAE,CAAC,cACVE,IAAA,CAACL,SAAS,GAAE,CAAC,EACV,CAAC,CAEV,CAEA,cAAe,CAAAQ,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}